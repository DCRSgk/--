# day22

### Ep01 å†™åœ¨å‰é¢

- #### ç½‘ç»œé…ç½®

  > - NATæ¨¡å¼
  >   - åˆ‡æ¢è‡ªåŠ¨
  >   - pingä»»æ„ä¸€ä¸ªç½‘ç«™
  >   - æ ¹æ®è‡ªåŠ¨çš„IPç½‘å…³å’ŒDNSé…ç½®é™æ€IP
  > - æ¡¥æ¥æ¨¡å¼
  >   - åŒä¸Š

- ç”¨æˆ·å‘½ä»¤

  > - æ·»åŠ ç”¨æˆ·ï¼š`useradd -m ç”¨æˆ·å -s /bin/bash`
  > - é…ç½®å¯†ç ï¼š`passwd`
  > - åˆ‡æ¢ç”¨æˆ·ï¼š`su`
  > - åˆ é™¤ç”¨æˆ·ï¼š`userdel -r`
  > - é€€å‡ºå½“å‰ç”¨æˆ·ï¼š`exit`

### Ep02 Linuxæ–‡ä»¶

- æ–‡ä»¶ç³»ç»Ÿï¼ˆè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ VFSï¼‰

  > - æ ¹èŠ‚ç‚¹
  >
  > - Linuxç›®å½•çš„å«ä¹‰
  >
  >   | ç›®å½•å |                             å«ä¹‰                             |
  >   | :----: | :----------------------------------------------------------: |
  >   |  /bin  |              å­˜æ”¾äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé€šå¸¸æ˜¯ä¸€å¯æ‰§è¡Œç¨‹åº              |
  >   |  /sys  |                           ç³»ç»Ÿæ–‡ä»¶                           |
  >   |  /dev  |                           è®¾å¤‡æ–‡ä»¶                           |
  >   |  /etc  |                      é…ç½®æ–‡ä»¶å’Œå¯åŠ¨è„šæœ¬                      |
  >   | /home  |                    æ™®é€šç”¨æˆ·å®¶ç›®å½•çš„çˆ¶ç›®å½•                    |
  >   |  /lib  |                          ç³»ç»Ÿåº“æ–‡ä»¶                          |
  >   | /proc  |        ç‰¹æ®Šçš„ç›®å½•ï¼Œé¢çš„å†…å®¹æ˜¯è¿›ç¨‹å†…å®¹å¯¹æ–‡ä»¶ç³»ç»Ÿçš„æ˜ å°„        |
  >   | /user  | æ™®é€šç”¨æˆ·å¯ä»¥è®¿é—®çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬åº“æ–‡ä»¶ã€äºŒ è¿›åˆ¶æ–‡ä»¶å’Œä»£ç æ–‡ä»¶ç­‰ç­‰ |
  >   |  /var  |                 å­˜å‚¨å˜åŒ–å¾ˆå¿«çš„æ–‡ä»¶,æ¯”å¦‚æ—¥å¿—                  |
  >
  > - ç»å¯¹è·¯å¾„ï¼šæ ¹ç›®å½•ğŸ‘‰ç›®å½•1ğŸ‘‰ç›®å½•2ğŸ‘‰æ–‡ä»¶
  >
  > - ç›¸å¯¹è·¯å¾„ï¼šç›¸å¯¹äºå½“å‰ç›®å½•çš„ä½ç½®
  >
  > - å½“å‰ç›®å½•ğŸ‘‰ç›®å½•1ğŸ‘‰ç›®å½•2ğŸ‘‰æ–‡ä»¶
  >
  > - pwdï¼š
  >
  > - ~çš„å«ä¹‰ï¼šå½“å‰ç”¨æˆ·çš„å®¶ç›®å½•
  >
  > - cdï¼šæ”¹å˜ç›®å½•(change da)
  >
  >   - `cd -` ï¼ˆè¿”å›ä¸Šä¸€çº§ï¼‰
  >   - `cd &cd~`ï¼ˆå›åˆ°å®¶ç›®å½•ï¼‰
  >   - `cd .`  (ä¿æŒä½ç½®ä¸å˜)
  >   - `cd .. `(å›åˆ°çˆ¶ç›®å½•)
  >
  > - mkdirï¼šåˆ›å»ºç›®å½•
  >
  > - rmdirï¼šåˆ é™¤ç›®å½•
  >
  > - lsï¼šæ˜¾ç¤ºç›®å½•ä¸‹æ–‡ä»¶

- æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯             //è¡¥ç¬”è®°

  > - ![image-20200407111252225](day22_ç¬”è®°.assets/image-20200407111252225.png)
  > - ç¡¬é“¾æ¥ï¼šæ–‡ä»¶1å’Œæ–‡ä»¶2å…±äº«ç£ç›˜çš„å†…å®¹

- **ç›®å½•é‡Œé¢åˆ°åº•å­˜äº†ä»€ä¹ˆï¼Ÿ**

  > - ![image-20200407112426840](day22_ç¬”è®°.assets/image-20200407112426840.p
  > - ls -lh     (h==human readable)

### Ep03æ–‡ä»¶æ“ä½œ

- æ‹·è´æ–‡ä»¶æˆ–è€…ç›®å½•

  > - `cp æºæ–‡ä»¶ ç›®æ ‡è·¯å¾„`ï¼šæ‹·è´ä¸€ä»½æºæ–‡ä»¶åˆ°ç›®æ ‡è·¯å¾„ï¼ˆè¦†ç›–åŒåæ–‡ä»¶
  > - `cp æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶ `ï¼šæ‹·è´ä¸€ä»½æºæ–‡ä»¶å–åˆ°ç›®æ ‡æ–‡ä»¶ï¼Œè‹¥ç›®æ ‡æ–‡ä»¶ä¸å­˜åœ¨åˆ™ç›´æ¥åˆ›å»ºï¼ˆè¦†ç›–åŸæ–‡ä»¶ï¼‰
  > - ubuntuä¸ä¼šæç¤ºè¦†ç›–è¡Œä¸º
  > - åç¼€
  >   - -fï¼šå¼ºåˆ¶æ‹·è´ï¼ˆå¼ºåˆ¶å‘½ä»¤ï¼‰
  >   - -iï¼šå¼¹å‡ºï¼ˆY/Nï¼‰Yåˆ™æ‹·è´ï¼ˆç¡®è®¤å‘½ä»¤ï¼‰
  >   - -rï¼šæ‹·è´ç›®å½•å’Œæ‰€æœ‰å­æ–‡ä»¶ï¼ˆé€’å½’å‘½ä»¤ï¼‰

- å‰ªåˆ‡æ–‡ä»¶æˆ–è€…ç›®å½•

  > - ä½¿ç”¨æ–¹æ³•å’Œcpç›¸åŒ
  > - å°†cpæ¢æˆmuå³å¯
  > - é‡å‘½åï¼šmu æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶
  >   - å°†æºæ–‡ä»¶çš„åå­—ä¿®æ”¹æˆç›®æ ‡æ–‡ä»¶çš„åå­—
  > - åç¼€
  >   - -fï¼šå¼ºåˆ¶å‰ªåˆ‡ï¼ˆå¼ºåˆ¶å‘½ä»¤ï¼‰
  >   - -iï¼šå¼¹å‡ºï¼ˆY/Nï¼‰Yåˆ™å‰ªåˆ‡ï¼ˆç¡®è®¤å‘½ä»¤ï¼‰
  >   - -rï¼šå‰ªåˆ‡ç›®å½•å’Œæ‰€æœ‰å­æ–‡ä»¶ï¼ˆé€’å½’å‘½ä»¤ï¼‰

- åˆ é™¤

  > - rm æ–‡ä»¶å æ–‡ä»¶è·¯å¾„ 
  > - ä¸è¦å†rootç”¨æˆ·ä¸‹ä½¿ç”¨rm -r

- treeï¼šéœ€è¦åŠ è½½treeå·¥å…·ï¼š`sudo apt install tree`

  > - tree (æ˜¾ç¤ºå½“å‰)
  >   - <img src="day22_ç¬”è®°.assets/image-20200407114847956.png" alt="image-20200407114847956" style="zoom:50%;" />
  > - tree è·¯å¾„
  >   - <img src="day22_ç¬”è®°.assets/image-20200407115042229.png" alt="image-20200407115042229" style="zoom:50%;" />
  > - tree -h æ˜¾ç¤ºå¤§å°
  >   - <img src="day22_ç¬”è®°.assets/image-20200407114903101.png" alt="image-20200407114903101" style="zoom:50%;" />

### Ep04 æ–‡ä»¶æƒé™

- æƒé™

  > - ä¸‰ç§æƒé™
  >   - è¯»&&å†™&&æ‰§è¡Œï¼ˆr w xï¼‰
  > - ç”¨æˆ·åˆ†ç±»
  >   - ç”¨æˆ·
  >   - ç»„
  >   - å…¶ä»–ç”¨æˆ·

- chmodï¼šä¿®æ”¹æƒé™çš„æ–‡å­—è®¾å®šæ³•

  > - `chmod [who] [+1-1=] [mode]`
  >   - who :ç”¨æˆ·èº«ä»½
  >     - u ï¼šç”¨æˆ·
  >     - g ï¼šç»„
  >     - o ï¼šå…¶ä»–
  >     - aï¼šæ‰€æœ‰ï¼ˆä¸å†™ï¼æ‰€æœ‰ï¼‰
  >   - [+-=]
  >     - +ï¼šå¢åŠ 
  >     - -ï¼šå»é™¤
  >     - =ï¼šæŒ‡å®š
  >   - modeï¼šæƒé™ï¼ˆrï¼šå¯è¯»ï¼Œwï¼šå¯å†™ï¼Œxï¼šå¯æ‰§è¡Œï¼‰
  > - è¯­å¥å¯ä»¥å¤šæ¬¡æ‰§è¡Œï¼Œç”¨é€—å·åˆ†éš”ã€‚
  > - ![image-20200407150431256](day22_ç¬”è®°.assets/image-20200407150431256.png)
  > - åˆ é™¤ræƒé™
  >   - chmod -r
  >   - chmod a -r
  >   - chmod ugo -r

- æ•°å­—è®¾å®šæ³•ï¼š8è¿›åˆ¶

  > - æ©ç ï¼šå¦‚æœäºŒè¿›åˆ¶ä½ä¸º1åˆ™æ— æ•ˆ
  > - è¯» å†™ æ‰§è¡Œ ï¼šå¯ä»¥ç”¨ä¸€ä¸ªä¸‰ä½äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œå¹¶ä¸”ä¸€ä¸ªä¸‰ä½äºŒè¿›åˆ¶ä½ä¸€ä¸ª8è¿›åˆ¶
  > - -rw -rw -rï¼š6 6 4

### Ep05 æ–‡ä»¶çš„æŸ¥æ‰¾

- find

  > - `find èµ·å§‹ç›®å½• æŸ¥æ‰¾æ¡ä»¶ æ“ä½œ`
  > - æŸ¥æ‰¾æ‰€æœ‰ä»¥èµ·å§‹ç›®å½•ä¸ºç¥–å…ˆçš„ç›®å½•æ–‡ä»¶
  > - æŒ‰åå­—ç²¾ç¡®æŸ¥æ‰¾ï¼š find .name [æ–‡ä»¶å]
  > - æŒ‰åå­—æ¨¡ç³ŠæŸ¥æ‰¾ï¼š
  >   - é€šé…ç¬¦ï¼š
  >   - *åŒ¹é…ï¼š0~å¤šä¸ªä»»æ„å­—ç¬¦
  >   - ï¼ŸåŒ¹é…ï¼šä»…èƒ½åŒ¹é…ä¸€ä¸ªå­—ç¬¦
  >   - [  ]èŒƒå›´åŒ¹é…ï¼šéœ€è¦æŒ‰ç…§ASCâ…¡ç çš„èŒƒå›´å†™
  > - finf . -gid    æŒ‰ç»„æŸ¥æ‰¾
  > - find . -uid  æŒ‰ç”¨æˆ·æŸ¥æ‰¾
  > - find . -empty æŸ¥æ‰¾ç©ºæ–‡ä»¶
  > - find . -prem xxx :æŒ‰æƒé™æŸ¥æ‰¾
  > - find . -size n[bckw] ï¼ˆnåé¢çš„[ ]è¡¨ç¤ºå•ä½ï¼‰é»˜è®¤å•ä½ä¸ºblock
  > - find . -type :æŒ‰ç±»å‹æŸ¥æ‰¾ d:ç›®å½• f:æ™®é€šæ–‡ä»¶![image-20200407162528384](day22_ç¬”è®°.assets/image-20200407162528384.png)
  > - find . [acm]+min/time ï¼ˆ+/-ï¼‰  (min åˆ†é’Ÿï¼Œtime å¤©)
  >   - aï¼šè®¿é—®
  >   - cï¼šçŠ¶æ€
  >   - mï¼šå†…å®¹
  >   - minåæ— ç¬¦å·ï¼Œè¡¨ç¤ºæŸæ—¶åˆ»
  >   - min-  ä»ç°åœ¨åˆ°minåˆ†é’Ÿä¹‹å†…
  >   - min+ minåˆ†é’Ÿä¹‹å‰a

