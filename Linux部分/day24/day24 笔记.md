# day24 笔记

[TOC]

### Ep01 写在前面： Linux命令总结

- 用户

  > - 配置密码：`passwd`
  > - 切换用户：`su`   `exit`
  >   - 无参数则直接进入root用户
  >   - 退出则直接用`exit`
  > - 添加用户：`useradd`
  >   - `-m`：配置家目录
  >   - `-s`：配置命令解释器
  > - 删除用户：`userdel`
  >   - `-r`：删除目录

- 文件

  > - 目录操作
  >   - 查看当前工作目录：`pwd`
  >   - 改变当前工作目录：`cd+目录名`
  >   - 查看目录连接的文件：`ls`
  >     - `-a`：显示所有信息
  >     - `-l`：查看目录所有可见文件的属性
  >     - `-h`：human readable
  >   - 创建目录：`mkdir`
  >   - 删除空目录：`rmdir`
  >     - 只能删除空目录
  > - 文件
  >   - 删除：`rm`
  >     - `-r`：删除文件夹以名字下所有子目录（递归删除）
  >     - `-f`：强制删除
  >   - 拷贝：`cp 源文件 目标路径`
  >     - 如果没有路径则是目标文件
  >     - 若无目标文件则创建目标文件
  >     - 若重名则直接覆盖
  >   - 移动：`mv [文件名]  [目标路径]`
  > - 权限相关：-r/-w/-x（读写修改）
  >   - 改变权限：`chmod`
  >   - 权限的影响
  >     - 增删一个文件：和目录的读写权限修改有关
  >     - 查找一个文件：目录的读权限和执行
  >     - 拷贝一个文件：目录的读权限和执行

- 查找

  > - `find`：find
  >   - 起始目录
  >     - 
  >   - 查找条件
  >     - `-name`
  >     - `-gid/-uid/（-user/-group）`：按用户/组查找
  >     - `-empty`：查找空文件
  >     - `-perm`：按权限查找
  >     - `-size`：按大小查找（默认单位为block）
  >     - `-type`：按类型查找（普通文件为f）
  >     - `-amin/-cmin/-mmin`（`-atime/-ctime/-mtime`：）
  >       - 按访问时间
  >       - 按文件内容创建时间
  >       - 按文件更改时间来查找文件
  >       - n：距离现在恰好n时刻
  >       - -n：距离现在小于n
  >       - +n：距离现在大于n
  >   - `*`/`？`/`[ ]`
  >     - `*`：任意字符
  >     - `？`：单个字符
  >     - `[ ]`:字符范围
  >   - 与或非运算
  >     - `-a`：与
  >     - `-o`：或
  >     - `！`：非
  >   - `-exec`：对查找的结果进行后续处理
  >     - `\;`：命令i金额为
  >     - `{}`：变量，存放查找结果

- 磁盘空间查询

  > - `du`：文件&目录
  >   - --max-depth=1

- 文件读写

  > - `cat`：
  >   - 没有参数：按行输入内容，按行输出结果（复读机），`Ctrl+d`结束。
  >   - `cat<<xxx`
  >     - e.g.：`cat<<1`：此时这个1相当于`Ctrl+d`
  >       - 
  >   - `cat+文件名`：打印文件内容
  > - `file`：查看文件类型
  > - 部分显示
  >   - `tail`：从尾显示
  >   - `hear`：从头显示
  >   - `more/less`：
  >     - f：下一页
  >     - b：前一页
  >     - q：退出
  >     - h：帮助
  > - `sort`：排序文件内容
  > - `uniq`：删除连续重复行
  > - `wc`：字数统计
  >   - -c：字符数
  >   - -l：行数
  >   - -w：单词数
  > - `iconv`：编码方式转换
  >   - -f：来源
  >   - -t：输出

- 重定向

  > - `man sh`：查看相关帮助
  > - 重定向符号：箭头的指向就说数据的流向
  >   - `<`：输出重定向（把前面输出的东西输入到后边的文件中，会清除文件原有的内容）
  >   - `>`：输入重定向（输入重定向用于改变命令的输入，后面指定输入内容，后面跟文件名）
  >   - `>>`：追加输出重定向（把前面输出的东西追加到后边的文件尾部，不会清除文件原有的内容）
  > - 文件描述符
  >   - 0：stdin（标准输入）：使用<或<<。数据流从右向左
  >   - 1：stdout（标准正常输出）：使用>或>>。数据流从左向右
  >   - 2：stderr（标准错误输出）：使用2>或2>>。数据流从左向右



### Ep02

- grep：指定格式打印，将文件中符合格式的打印出来

  > - 选项
  >
  >   - -F：每个模式作为固定的字符串对待
  >   - -c：只显示匹配行的数量。（只显示总数）
  >   - -i：比较式不区分大小写。<img src="day24 笔记.assets/image-20200409113941518.png" alt="image-20200409113941518" style="zoom: 80%;" />
  >   - -n：在输出前加上匹配串所在的行号。（显示符号）
  >
  > - **格式：grep的文本格式（正则表达式）**
  >
  >   - 正则表达式：字符串的生成规则
  >
  >     - e.g.
  >   
  > - 基本单位
  >     - `.`&&`[ ]`：
  >     - `.`匹配任意单个字符，但不匹配换行符
  >         - `[]` 用来指定一个字符集。 使用连字符来指定字符集的范围。
  >     - a~z~0~1~A~Z：匹配字符
  >     
  > - 前缀&&后缀（补充在基本单位的前面||后面）
  >
  >   - \*：基础单位*（基本单位出现0次或一次）
  >   - ? ：基础单位？（基本单位出现0次或一次）
  >   - ^：基本单位^（基本单位出现在行首）
  >   - $：基本单位$（基本单位出现在行尾）
  >   - 需要匹配任意字符：`.*`
  >
  > - grep和find的联合使用
  >
  >   - 先用find找文件，在用grep找内容
  >
  >   - eg：
  >
  >   - ```0.0
  >     $ find . -name "*.[ch]" |xargs grep -nE "main"
  >     ```

- alias：别名

  > - b

- hisroty：历史命令记录

  > - 可加more翻页

- man：帮助

  > - 需要添加具体帮助选项

- 如何一次输入使用多个命令：使用`;`

  > - `cmd1;cmd2`先执行cmd1，在执行cmd2

### Ep03 管道：pipe line

- 原理

  > - 多个控制命令通过|链接、
  > - 将上一个命令的标准输出作为下一个命令的标准输入

- **xargs**

  > - 作用：
  >   - 将管道内的文件分成单行的输出
  >   - 将每一行的结果作为cmd2的最后一个参数
  > - 

### Ep04 命令

- 命令替换

  > - 先运行cmd2，再将结果作为cmd1的参数
  >
  >   ```
  >   $ cmd1 `cmd2`
  >   $ cmd1 $(cmd2)
  >   ```

- 打包和压缩        //摸鱼 重听

  > - `tar [主选项+辅助选项] 目标文档 源文件/目录`
  >   - 主选项
  >     - c：创建
  >     - r：追加
  >   - 辅助选项
  >     - f：使用包文件
  >     - v：显示文件
  >     - z：用gzip算法压缩
  >     - -d：解压
  >     - -v：显示文件

- scp命令  //摸鱼 重听

  > - 使用之前须判断自己id是否可用
  > - //摸鱼 重听

- 密钥管理

  > - 

### Ep05 和vim[^1]

- 完全脱离鼠标

- 大多数使用vim

- 普通模式

  > - 转换编辑模式，a/A/i/I
  >
  > -  hjkl 对应上下左右
  >
  > - 删除
  >
  >   - 删除等价于剪切
  >
  >   ```php
  >   d$/^
  >   删除头部 删除尾部
  >   ```
  >
  > - `p`：粘贴
  >
  > - `yy`：复制一行（用p粘贴）
  >
  >   - nyy：复制n行
  >
  > - `u`：撤销
  >
  > - w：往后移动一个光标
  >
  >   - ctrl+r 撤销撤销
  >   - ctrl+d：向下
  >   - ctrl+u：向上
  >   - ctrl+f：向前翻页
  >   - ctrl+b：向后翻页
  >   - gg：回到文件头部
  >
  > - 查找和替换
  >   - `/[寻找目标]`寻找某个词（）
  >   - `:s/[修改目标]/[修改内容]`：只对单文件生效
  >     - `:s/[修改目标]/[修改内容]/ig`：当行全部替换
  >     - `:s/[修改目标]/[修改内容]/i`：忽略大小写
  >     - `:x,y s/[修改目标]/[修改内容]/ig`：修改x~y行的数据
  >     - `:%s/[修改目标]/[修改内容]/ig`：全文件全部修改
  >     - 这里的修改目标和修改内容均支持正则表达式
  > -  按V为可视化模式，按ctrl+v可以使用数选模式
  >   
  >   - 数选模式之后，按i+//+esc
  > - `%!xxd`：将文件转换成二进制
  > - `w`：保存

- 输入(编辑)模式

  > - 转换到命令模式：esc
  > - 剩余的没差

- 切换ctrl+w+w
- 多窗口：





















[^1]:![vi-vim-cheat-sheet-sch](day24 笔记.assets/vi-vim-cheat-sheet-sch.gif)

- 

[^1]: