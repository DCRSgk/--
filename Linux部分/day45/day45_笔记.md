### Ep02五种IO模型

- 同步和异步，阻塞和非阻塞

  > - 所谓同步就是一个任务的完成需要依赖另外一个任务时，只有等待被依赖的任务完成后，依赖的任务才能算完成，这是一种可靠的任务序列。要么成功都成功，失败都失败，两个任务的状态可以保持一致。
  > - 所谓异步是不需要等待被依赖的任务完成，只是通知被依赖的任务要完成什么工作，依赖的任务也立即执行，只要自己完成了整个任务就算完成了。至于被依赖的任务最终是否真正完成，依赖它的任务无法确定，所以它是不可靠的任务序列。

- 以小明下载文件打个比方，从这两个关注点来再次说明这两组概念，希望能够更好的促进理解。

  1. **同步阻塞：小明一直盯着下载进度条，到 100% 的时候就完成。**

  > - 同步体现在：等待下载完成通知；
  >
  > - 阻塞体现在：等待下载完成通知过程中，不能做其他任务处理；

  2. **同步非阻塞：小明提交下载任务后就去干别的，每过一段时间就去瞄一眼进度条，看到 100% 就完成。**

  > - 同步体现在：等待下载完成通知；
  >
  > - 非阻塞体现在：等待下载完成通知过程中，去干别的任务了，只是时不时会瞄一眼进度条
  >
  > - 【小明必须要在两个任务间切换，关注下载进度】

  3. **异步阻塞：小明换了个有下载完成通知功能的软件，下载完成就“叮”一声。不过小明仍然一直等待“叮”的声音（看起来很傻，不是吗）。**

  > - 异步体现在：下载完成“叮”一声通知；
  >
  > - 阻塞体现在：等待下载完成“叮”一声通知过程中，不能做其他任务处理；

  4. **异步非阻塞：仍然是那个会“叮”一声的下载软件，小明提交下载任务后就去干别的，听到“叮”的一声就知道完成了。**

  > - 异步体现在：下载完成“叮”一声通知；
  >
  > - 非阻塞体现在：等待下载完成“叮”一声通知过程中，去干别的任务了，只需要接收“叮”声通知即可
  > - 【软件处理下载任务，小明处理其他任务，不需关注进度，只需接收软件“叮”声通知，即可】

- 

- **阻塞IO**||**非阻塞IO**||**IO多路复用**||**信号驱动IO**||**异步IO**

  > - **阻塞IO**
  >   - 给女神发一条短信, 说我来找你了, 然后就默默的一直等着女神下楼, 这个期间除了等待你不会做其他事情, 属于备胎做法. 
  > - **非阻塞IO**
  >   - 给女神发短信, 如果不回, 接着再发, 一直发到女神下楼, 这个期间你除了发短信等待不会做其他事情, 属于专一做法. 
  > - **IO多路复用**
  >
  >   - 找一个宿管大妈来帮你监视下楼的女生, 这个期间你可以些其他的事情. 例如可以顺便看看其他妹子,玩玩王者荣耀, 上个厕所等等. IO复用又包括 select, poll, epoll 模式. 那么它们的区别是什么?
  >
  >     1. select大妈 每一个女生下楼, select大妈都不知道这个是不是你的女神, 她需要一个一个询问, 并且select大妈能力还有限, 最多一次帮你监视1024个妹子
  >     2. poll大妈不限制盯着女生的数量, 只要是经过宿舍楼门口的女生, 都会帮你去问是不是你女神
  >     3. epoll大妈不限制盯着女生的数量, 并且也不需要一个一个去问 那么如何做呢? epoll大妈会为每个进宿舍楼的女生脸上贴上一个大字条,上面写上女生自己的名字, 只要女生下楼了, epoll大妈就知道这个是不是你女神了, 然后大妈再通知你. -
  >
  >   - 上面这些IO模型有一个共同点就是, 当女神走出宿舍门口的时候, 你已经站在宿舍门口等着女神的, 此时你属于阻塞状态
  > - **信号驱动IO**
  >   - 没听懂 但是应该类似IO多路复用，待验证
  > - **异步IO**
  >   - 你告诉女神我来了, 然后你就去王者荣耀了, 一直到女神下楼了, 发现找不见你了, 女神再给你打电话通知你, 说我下楼了, 你在哪呢? 这时候你才来到宿舍门口. 此时属于逆袭做法